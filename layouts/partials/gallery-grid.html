{{/* Photo gallery grid. Accepts dict with "images" (resources) and "album" (string ID). */}}
{{ $images := .images }}
{{ $album := .album }}

{{ if $images }}
<div class="gallery-grid grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2" data-album="{{ $album }}">
  {{ range $images }}
  {{ $thumb := .Fill "400x300 q85 Lanczos" }}
  {{ $full := .Fit "1600x1200 q90 Lanczos" }}
  <a href="{{ $full.RelPermalink }}"
     class="glightbox block overflow-hidden rounded-lg group"
     data-gallery="{{ $album }}"
     data-title="{{ .Title | default (path.Base .Name) }}">
    <img src="{{ $thumb.RelPermalink }}"
         width="{{ $thumb.Width }}"
         height="{{ $thumb.Height }}"
         alt="{{ .Title | default $album }}"
         loading="lazy"
         class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105">
  </a>
  {{ end }}
</div>
{{ else }}
<p class="text-stone-400 italic">{{ i18n "no_photos" }}</p>
{{ end }}
